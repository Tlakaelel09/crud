<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>CRUD con Node</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-5">
  <h1>Lista de Usuarios</h1>

  <form action="/add" method="POST" class="mb-4">
    <input type="text" name="name" placeholder="Nombre" required>
    <input type="email" name="email" placeholder="Correo" required>
    <button class="btn btn-primary">Agregar</button>
  </form>

  <table class="table table-bordered">
    <tr><th>ID</th><th>Nombre</th><th>Email</th><th>Acciones</th></tr>
    <% users.forEach(u => { %>
      <tr>
        <form action="/edit/<%= u.id %>" method="POST">
          <td><%= u.id %></td>
          <td><input name="name" value="<%= u.name %>"></td>
          <td><input name="email" value="<%= u.email %>"></td>
          <td>
            <button class="btn btn-success btn-sm">Guardar</button>
          </form>
          <form action="/delete/<%= u.id %>" method="POST" style="display:inline;">
            <button class="btn btn-danger btn-sm">Eliminar</button>
          </form>
          </td>
      </tr>
    <% }) %>
  </table>
</body>
</html>