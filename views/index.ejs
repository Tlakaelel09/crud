<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>CRUD con Node</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/style.css">
</head>
<body class="p-5">
  <h1>Lista de Usuarios</h1>

  <form action="/add" method="POST" class="mb-4 d-flex gap-2 flex-wrap">
    <input type="text" name="name" placeholder="Nombre" required class="form-control" style="max-width: 250px;">
    <input type="email" name="email" placeholder="Correo" required class="form-control" style="max-width: 300px;">
    <button class="btn btn-primary">Agregar</button>
  </form>

  <table class="table table-bordered">
    <thead class="table-light">
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Email</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <% users.forEach(u => { %>
        <tr>
          <form action="/edit/<%= u.id %>" method="POST" class="d-flex gap-2 align-items-center">
            <td><%= u.id %></td>
            <td><input name="name" value="<%= u.name %>" class="form-control"></td>
            <td><input name="email" value="<%= u.email %>" class="form-control"></td>
            <td>
              <a href="/user/<%= u.id %>" class="btn btn-info btn-sm me-1">Ver</a>
              <button type="submit" class="btn btn-success btn-sm me-1">Guardar</button>
          </form>
              <form action="/delete/<%= u.id %>" method="POST" style="display:inline;">
                <button class="btn btn-danger btn-sm">Eliminar</button>
              </form>
            </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</body>
</html>
